# Vue 代码规范


## 1 Vue书写规范
1. vue 规范参考 [Vue官方规范](https://cn.vuejs.org/v2/style-guide)
2. Vue特有代码风格指南，为了避免错误，小纠结，反模式
	- 改善可读性，开发体验，和可维护性
	- 当存在多个同样好的选项，选任意一个都可以确保一致性。

3. 在规则里，我们描述了每个选项并建议一个默认的选择

4. 永远不要把 `v-if` 和 `v-for` 同时用在同一个元素上

5. 过滤一个列表中的项目，比如 `<li v-for="user in users" v-if="user.isActive">`
	- 这种情况，将 users 替换为一个计算属性 computed，让其返回一个 过滤后的列表

6. 避免渲染本应该被隐藏的列表，比如 `<li v-for="user in users" v-if="show">`
	- 这种情况下，将 `v-if` 移动到容器元素上，比如 ul ol

7. `v-for` 总是设置 key 值，以便维护内部组件及其子树的状态
	- 更新 DOM 的时候，Vue 将会优化渲染把可能的 DOM 变动降到最低
	- `v-if` 只检查它一次，`false，v-for`就不会执行

8. 组件里也是跟实例生命周期一样的，自己测试下 
	- `mixin -> props -> methods -> data -> computed -> watch`

```js
export default {
  name: 'Select',
  mixins: [],
  props: {},
  data() {},
  computed: {},
  methods: {},
  watch: {},
  mounted() {},
  created() {}
}
```

9. `<radio :label="true">打开</radio>`
	- 加冒号的，说明后面的是一个**变量或者表达式**
	- 没加冒号的后面就是对应的 字符串字面量


## 2 CSS样式规范

1. 顶级 App 组件和布局组件中的样式可以是全局的，但是其它所有组件都应该是有作用域的
	- 设置作用域也可以通过 CSS Modules
  - BEM 策略
  - 对于组件库，倾向于选用基于 class的策略而不是 scoped 特性
  - 常人可理解的 class 名称且没有太高的选择器优先级

2. 标签选择器，避免在 scoped中出现，大量使用 标签选择器是很慢的
	- 推荐使用 class 类选择器
  - `button[data-v-f3f3eg9]` 属性选择器比类和特性组合的选择器慢


## 3 组件规范


[Vue 规范](guide.vue ':include :type=html')



## 4 JS结尾要加分号吗

- 没有应该不应该，只有你自己喜欢不喜欢；
- 直觉性的 **当然应该加分号** 都是保守的、未经深入思考的草率结论；
- 真正会导致 JS上下文解析出问题的有 5 个符号
	- 括号，方括号，正则开头的斜杠，加号，减号
	- **一行开头是括号，或者方括号**的时候加上分号就可以了，其它时候全部不需要

```jsx
  []
	{}
	//
	+
  -
  
  [ ( + - / 
```


### Vue.js 的代码全部不带分号

- 语句后面要用分号表明语句结束
- 类定义实际上是这个类型的声明；
- 算是声明语句，所以结尾要加分号 ;
- 函数定义就个那种格式：以大括号括起的函数体结尾即可
- 函数定义不算是语句，所以定义函数的时候不用加 ` ; `
